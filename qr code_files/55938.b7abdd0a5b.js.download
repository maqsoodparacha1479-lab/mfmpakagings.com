/*! For license information please see 55938.b7abdd0a5b.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[55938],{18770:function(t,e,n){"use strict";t.exports=n.p+"assets/zbar.8e6e5121.wasm"},35507:function(t,e,n){"use strict";function r(t,e,n,r){return new(n||(n=Promise))((function(a,i){function o(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}c((r=r.apply(t,e||[])).next())}))}n.d(e,{BM:function(){return y}}),"function"==typeof SuppressedError&&SuppressedError;var a,i=(a="file:///builds/me-qr/me-qr/node_modules/@undecaf/zbar-wasm/dist/index.mjs",async function(t={}){var e,r,i=t;i.ready=new Promise(((t,n)=>{e=t,r=n}));var o,s,c,u=Object.assign({},i),f="object"==typeof window,l="function"==typeof importScripts,h="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,_="";if(h){const{createRequire:t}=await Promise.resolve().then((()=>R));var p=t("file:///builds/me-qr/me-qr/node_modules/@undecaf/zbar-wasm/dist/index.mjs"),d=p("fs"),A=p("path");_=l?A.dirname(_)+"/":p("url").fileURLToPath(new URL(n(88293),n.b)),o=(t,e)=>(t=F(t)?new URL(t):A.normalize(t),d.readFileSync(t,e?void 0:"utf8")),c=t=>{var e=o(t,!0);return e.buffer||(e=new Uint8Array(e)),e},s=(t,e,n,r=!0)=>{t=F(t)?new URL(t):A.normalize(t),d.readFile(t,r?void 0:"utf8",((t,a)=>{t?n(t):e(r?a.buffer:a)}))},!i.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),i.inspect=()=>"[Emscripten Module object]"}else(f||l)&&(l?_=self.location.href:"undefined"!=typeof document&&document.currentScript&&(_=document.currentScript.src),a&&(_=a),_=0!==_.indexOf("blob:")?_.substr(0,_.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},l&&(c=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),s=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)});var m,v,g,b=i.print||console.log.bind(console),y=i.printErr||console.error.bind(console);Object.assign(i,u),u=null,i.arguments&&i.arguments,i.thisProgram&&i.thisProgram,i.quit&&i.quit,i.wasmBinary&&(m=i.wasmBinary),i.noExitRuntime,"object"!=typeof WebAssembly&&P("no native wasm support detected");var E,B,w=!1;function N(){var t=v.buffer;i.HEAP8=new Int8Array(t),i.HEAP16=new Int16Array(t),i.HEAP32=new Int32Array(t),i.HEAPU8=E=new Uint8Array(t),i.HEAPU16=new Uint16Array(t),i.HEAPU32=B=new Uint32Array(t),i.HEAPF32=new Float32Array(t),i.HEAPF64=new Float64Array(t)}var I=[],C=[],Z=[],S=0,O=null;function P(t){i.onAbort&&i.onAbort(t),y(t="Aborted("+t+")"),w=!0,t+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(t);throw r(e),e}var T,x;function D(t){return t.startsWith("data:application/octet-stream;base64,")}function F(t){return t.startsWith("file://")}function j(t){if(t==T&&m)return new Uint8Array(m);if(c)return c(t);throw"both async and sync fetching of the wasm failed"}function U(t,e,n){return function(t){if(!m&&(f||l)){if("function"==typeof fetch&&!F(t))return fetch(t,{credentials:"same-origin"}).then((e=>{if(!e.ok)throw"failed to load wasm binary file at '"+t+"'";return e.arrayBuffer()})).catch((()=>j(t)));if(s)return new Promise(((e,n)=>{s(t,(t=>e(new Uint8Array(t))),n)}))}return Promise.resolve().then((()=>j(t)))}(t).then((t=>WebAssembly.instantiate(t,e))).then((t=>t)).then(n,(t=>{y("failed to asynchronously prepare wasm: "+t),P(t)}))}i.locateFile?D(T="zbar.wasm")||(x=T,T=i.locateFile?i.locateFile(x,_):_+x):T=new URL(n(18770),n.b).href;var H,L=t=>{for(;t.length>0;)t.shift()(i)},G=t=>{var e=t-v.buffer.byteLength+65535>>>16;try{return v.grow(e),N(),1}catch(t){}},k="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,M=[null,[],[]],q=(t,e)=>{var n=M[t];0===e||10===e?((1===t?b:y)(((t,e)=>{for(var n=e+void 0,r=e;t[r]&&!(r>=n);)++r;if(r-e>16&&t.buffer&&k)return k.decode(t.subarray(e,r));for(var a="";e<r;){var i=t[e++];if(128&i){var o=63&t[e++];if(192!=(224&i)){var s=63&t[e++];if((i=224==(240&i)?(15&i)<<12|o<<6|s:(7&i)<<18|o<<12|s<<6|63&t[e++])<65536)a+=String.fromCharCode(i);else{var c=i-65536;a+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else a+=String.fromCharCode((31&i)<<6|o)}else a+=String.fromCharCode(i)}return a})(n,0)),n.length=0):n.push(e)},V={d:()=>!0,e:function(){return Date.now()},c:t=>{var e=E.length,n=2147483648;if((t>>>=0)>n)return!1;for(var r,a=1;a<=4;a*=2){var i=e*(1+.2/a);i=Math.min(i,t+100663296);var o=Math.min(n,(r=Math.max(t,i))+(65536-r%65536)%65536);if(G(o))return!0}return!1},f:t=>52,b:function(t,e,n,r,a){return 70},a:(t,e,n,r)=>{for(var a=0,i=0;i<n;i++){var o=B[e>>2],s=B[e+4>>2];e+=8;for(var c=0;c<s;c++)q(t,E[o+c]);a+=s}return B[r>>2]=a,0}};function W(){function t(){H||(H=!0,i.calledRun=!0,w||(L(C),e(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),function(){if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)t=i.postRun.shift(),Z.unshift(t);var t;L(Z)}()))}S>0||(function(){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)t=i.preRun.shift(),I.unshift(t);var t;L(I)}(),S>0||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),t()}),1)):t()))}if(function(){var t,e,n,a,o={a:V};function s(t,e){var n,r=t.exports;return v=(g=r).g,N(),g.s,n=g.h,C.unshift(n),function(){if(S--,i.monitorRunDependencies&&i.monitorRunDependencies(S),0==S&&O){var t=O;O=null,t()}}(),r}if(S++,i.monitorRunDependencies&&i.monitorRunDependencies(S),i.instantiateWasm)try{return i.instantiateWasm(o,s)}catch(t){y("Module.instantiateWasm callback failed with error: "+t),r(t)}(t=m,e=T,n=o,a=function(t){s(t.instance)},t||"function"!=typeof WebAssembly.instantiateStreaming||D(e)||F(e)||h||"function"!=typeof fetch?U(e,n,a):fetch(e,{credentials:"same-origin"}).then((t=>WebAssembly.instantiateStreaming(t,n).then(a,(function(t){return y("wasm streaming compile failed: "+t),y("falling back to ArrayBuffer instantiation"),U(e,n,a)}))))).catch(r)}(),i._ImageScanner_create=()=>(i._ImageScanner_create=g.i)(),i._ImageScanner_destory=t=>(i._ImageScanner_destory=g.j)(t),i._ImageScanner_set_config=(t,e,n,r)=>(i._ImageScanner_set_config=g.k)(t,e,n,r),i._ImageScanner_enable_cache=(t,e)=>(i._ImageScanner_enable_cache=g.l)(t,e),i._ImageScanner_recycle_image=(t,e)=>(i._ImageScanner_recycle_image=g.m)(t,e),i._ImageScanner_get_results=t=>(i._ImageScanner_get_results=g.n)(t),i._ImageScanner_scan=(t,e)=>(i._ImageScanner_scan=g.o)(t,e),i._Image_create=(t,e,n,r,a,o)=>(i._Image_create=g.p)(t,e,n,r,a,o),i._Image_destory=t=>(i._Image_destory=g.q)(t),i._Image_get_symbols=t=>(i._Image_get_symbols=g.r)(t),i._free=t=>(i._free=g.t)(t),i._malloc=t=>(i._malloc=g.u)(t),O=function t(){H||W(),H||(O=t)},i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return W(),t.ready});let o;function s(){return r(this,void 0,void 0,(function*(){return o||function(t={}){o=function(){return r(this,void 0,void 0,(function*(){const e=yield i(t);if(e)return e;throw Error("WASM was not loaded")}))}()}(),yield o}))}var c,u,f;!function(t){t[t.ZBAR_NONE=0]="ZBAR_NONE",t[t.ZBAR_PARTIAL=1]="ZBAR_PARTIAL",t[t.ZBAR_EAN2=2]="ZBAR_EAN2",t[t.ZBAR_EAN5=5]="ZBAR_EAN5",t[t.ZBAR_EAN8=8]="ZBAR_EAN8",t[t.ZBAR_UPCE=9]="ZBAR_UPCE",t[t.ZBAR_ISBN10=10]="ZBAR_ISBN10",t[t.ZBAR_UPCA=12]="ZBAR_UPCA",t[t.ZBAR_EAN13=13]="ZBAR_EAN13",t[t.ZBAR_ISBN13=14]="ZBAR_ISBN13",t[t.ZBAR_COMPOSITE=15]="ZBAR_COMPOSITE",t[t.ZBAR_I25=25]="ZBAR_I25",t[t.ZBAR_DATABAR=34]="ZBAR_DATABAR",t[t.ZBAR_DATABAR_EXP=35]="ZBAR_DATABAR_EXP",t[t.ZBAR_CODABAR=38]="ZBAR_CODABAR",t[t.ZBAR_CODE39=39]="ZBAR_CODE39",t[t.ZBAR_PDF417=57]="ZBAR_PDF417",t[t.ZBAR_QRCODE=64]="ZBAR_QRCODE",t[t.ZBAR_SQCODE=80]="ZBAR_SQCODE",t[t.ZBAR_CODE93=93]="ZBAR_CODE93",t[t.ZBAR_CODE128=128]="ZBAR_CODE128",t[t.ZBAR_SYMBOL=255]="ZBAR_SYMBOL",t[t.ZBAR_ADDON2=512]="ZBAR_ADDON2",t[t.ZBAR_ADDON5=1280]="ZBAR_ADDON5",t[t.ZBAR_ADDON=1792]="ZBAR_ADDON"}(c||(c={})),function(t){t[t.ZBAR_CFG_ENABLE=0]="ZBAR_CFG_ENABLE",t[t.ZBAR_CFG_ADD_CHECK=1]="ZBAR_CFG_ADD_CHECK",t[t.ZBAR_CFG_EMIT_CHECK=2]="ZBAR_CFG_EMIT_CHECK",t[t.ZBAR_CFG_ASCII=3]="ZBAR_CFG_ASCII",t[t.ZBAR_CFG_BINARY=4]="ZBAR_CFG_BINARY",t[t.ZBAR_CFG_NUM=5]="ZBAR_CFG_NUM",t[t.ZBAR_CFG_MIN_LEN=32]="ZBAR_CFG_MIN_LEN",t[t.ZBAR_CFG_MAX_LEN=33]="ZBAR_CFG_MAX_LEN",t[t.ZBAR_CFG_UNCERTAINTY=64]="ZBAR_CFG_UNCERTAINTY",t[t.ZBAR_CFG_POSITION=128]="ZBAR_CFG_POSITION",t[t.ZBAR_CFG_TEST_INVERTED=129]="ZBAR_CFG_TEST_INVERTED",t[t.ZBAR_CFG_X_DENSITY=256]="ZBAR_CFG_X_DENSITY",t[t.ZBAR_CFG_Y_DENSITY=257]="ZBAR_CFG_Y_DENSITY"}(u||(u={})),function(t){t[t.ZBAR_ORIENT_UNKNOWN=-1]="ZBAR_ORIENT_UNKNOWN",t[t.ZBAR_ORIENT_UP=0]="ZBAR_ORIENT_UP",t[t.ZBAR_ORIENT_RIGHT=1]="ZBAR_ORIENT_RIGHT",t[t.ZBAR_ORIENT_DOWN=2]="ZBAR_ORIENT_DOWN",t[t.ZBAR_ORIENT_LEFT=3]="ZBAR_ORIENT_LEFT"}(f||(f={}));class l{constructor(t,e){this.ptr=t,this.inst=e}checkAlive(){if(!this.ptr)throw Error("Call after destroyed")}getPointer(){return this.checkAlive(),this.ptr}}class h{constructor(t,e){this.ptr=t,this.ptr32=t>>2,this.buf=e,this.HEAP8=new Int8Array(e),this.HEAPU32=new Uint32Array(e),this.HEAP32=new Int32Array(e)}}class _ extends h{get type(){return this.HEAPU32[this.ptr32]}get data(){const t=this.HEAPU32[this.ptr32+4],e=this.HEAPU32[this.ptr32+5];return Int8Array.from(this.HEAP8.subarray(e,e+t))}get points(){const t=this.HEAPU32[this.ptr32+7],e=this.HEAPU32[this.ptr32+8]>>2,n=[];for(let r=0;r<t;++r){const t=this.HEAP32[e+2*r],a=this.HEAP32[e+2*r+1];n.push({x:t,y:a})}return n}get orientation(){return this.HEAP32[this.ptr32+9]}get next(){const t=this.HEAPU32[this.ptr32+11];return t?new _(t,this.buf):null}get time(){return this.HEAPU32[this.ptr32+13]}get cacheCount(){return this.HEAP32[this.ptr32+14]}get quality(){return this.HEAP32[this.ptr32+15]}}class p extends h{get head(){const t=this.HEAPU32[this.ptr32+2];return t?new _(t,this.buf):null}}class d{constructor(t){this.type=t.type,this.typeName=c[this.type],this.data=t.data,this.points=t.points,this.orientation=t.orientation,this.time=t.time,this.cacheCount=t.cacheCount,this.quality=t.quality}static createSymbolsFromPtr(t,e){if(0==t)return[];let n=new p(t,e).head;const r=[];for(;null!==n;)r.push(new d(n)),n=n.next;return r}decode(t){return new TextDecoder(t).decode(this.data)}}class A extends l{static createFromGrayBuffer(t,e,n,a=0){return r(this,void 0,void 0,(function*(){const r=yield s(),i=new Uint8Array(n),o=t*e;if(o!==i.byteLength)throw Error(`data length (${i.byteLength} bytes) does not match width and height (${o} bytes)`);const c=r._malloc(o);return r.HEAPU8.set(i,c),new this(r._Image_create(t,e,808466521,c,o,a),r)}))}static createFromRGBABuffer(t,e,n,a=0){return r(this,void 0,void 0,(function*(){const r=yield s(),i=new Uint8Array(n),o=t*e;if(4*o!==i.byteLength)throw Error(`data length (${i.byteLength} bytes) does not match width and height (${4*o} bytes)`);const c=r._malloc(o),u=c+o,f=r.HEAPU8;for(let t=c,e=0;t<u;t++,e+=4)f[t]=19595*i[e]+38469*i[e+1]+7472*i[e+2]>>16;return new this(r._Image_create(t,e,808466521,c,o,a),r)}))}destroy(){this.checkAlive(),this.inst._Image_destory(this.ptr),this.ptr=0}getSymbols(){this.checkAlive();const t=this.inst._Image_get_symbols(this.ptr);return d.createSymbolsFromPtr(t,this.inst.HEAPU8.buffer)}}class m extends l{static create(){return r(this,void 0,void 0,(function*(){const t=yield s();return new this(t._ImageScanner_create(),t)}))}destroy(){this.checkAlive(),this.inst._ImageScanner_destory(this.ptr),this.ptr=0}setConfig(t,e,n){return this.checkAlive(),this.inst._ImageScanner_set_config(this.ptr,t,e,n)}enableCache(t=!0){this.checkAlive(),this.inst._ImageScanner_enable_cache(this.ptr,t)}recycleImage(t){this.checkAlive(),this.inst._ImageScanner_recycle_image(this.ptr,t.getPointer())}getResults(){this.checkAlive();const t=this.inst._ImageScanner_get_results(this.ptr);return d.createSymbolsFromPtr(t,this.inst.HEAPU8.buffer)}scan(t){return this.checkAlive(),this.inst._ImageScanner_scan(this.ptr,t.getPointer())}}const v=()=>r(void 0,void 0,void 0,(function*(){const t=yield m.create();return t.setConfig(c.ZBAR_NONE,u.ZBAR_CFG_BINARY,1),t}));let g;const b=(t,e)=>r(void 0,void 0,void 0,(function*(){void 0===e&&(e=g||(yield v()),g=e);const n=e.scan(t);if(n<0)throw Error("Scan Failed");return 0===n?[]:t.getSymbols()})),y=(t,e)=>r(void 0,void 0,void 0,(function*(){return yield((t,e,n,a)=>r(void 0,void 0,void 0,(function*(){const r=yield A.createFromRGBABuffer(e,n,t),i=yield b(r,a);return r.destroy(),i})))(t.data.buffer,t.width,t.height,e)})),R=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}))},88293:function(t,e,n){"use strict";t.exports=n.p+"assets/index.3ba26ce2.mjs"},98512:function(t){t.exports=function(){"use strict";var t=function(t){return null!=t&&(e(t)||n(t)||!!t._isBuffer)};function e(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function n(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&e(t.slice(0,0))}var r=Object.prototype.toString,a=function(e){if(void 0===e)return"undefined";if(null===e)return"null";if(!0===e||!1===e||e instanceof Boolean)return"boolean";if("string"==typeof e||e instanceof String)return"string";if("number"==typeof e||e instanceof Number)return"number";if("function"==typeof e||e instanceof Function)return"function";if(void 0!==Array.isArray&&Array.isArray(e))return"array";if(e instanceof RegExp)return"regexp";if(e instanceof Date)return"date";var n=r.call(e);return"[object RegExp]"===n?"regexp":"[object Date]"===n?"date":"[object Arguments]"===n?"arguments":"[object Error]"===n?"error":t(e)?"buffer":"[object Set]"===n?"set":"[object WeakSet]"===n?"weakset":"[object Map]"===n?"map":"[object WeakMap]"===n?"weakmap":"[object Symbol]"===n?"symbol":"[object Int8Array]"===n?"int8array":"[object Uint8Array]"===n?"uint8array":"[object Uint8ClampedArray]"===n?"uint8clampedarray":"[object Int16Array]"===n?"int16array":"[object Uint16Array]"===n?"uint16array":"[object Int32Array]"===n?"int32array":"[object Uint32Array]"===n?"uint32array":"[object Float32Array]"===n?"float32array":"[object Float64Array]"===n?"float64array":"object"};function i(t,e){return t(e={exports:{}},e.exports),e.exports}var o=i((function(t){!function(){function e(t,e){if("function"!=typeof e)return t;var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[e(r,t[r])||r]=t[r]);return n}t.exports?t.exports=e:window.rename=e}()})),s=function t(e,n){var r=a(e);if("object"!==r&&"array"!==r)throw new Error("expected an object");var i=[];for(var s in"object"===r&&(e=o(e,n),i={}),e)if(e.hasOwnProperty(s)){var c=e[s];"object"===a(c)||"array"===a(c)?i[s]=t(c,n):i[s]=c}return i},c=i((function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function a(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),i.prototype.eventNames=function(){var t,r,a=[];if(0===this._eventsCount)return a;for(r in t=this._events)e.call(t,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(t)):a},i.prototype.listeners=function(t,e){var r=n?n+t:t,a=this._events[r];if(e)return!!a;if(!a)return[];if(a.fn)return[a.fn];for(var i=0,o=a.length,s=new Array(o);i<o;i++)s[i]=a[i].fn;return s},i.prototype.emit=function(t,e,r,a,i,o){var s=n?n+t:t;if(!this._events[s])return!1;var c,u,f=this._events[s],l=arguments.length;if(f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,e),!0;case 3:return f.fn.call(f.context,e,r),!0;case 4:return f.fn.call(f.context,e,r,a),!0;case 5:return f.fn.call(f.context,e,r,a,i),!0;case 6:return f.fn.call(f.context,e,r,a,i,o),!0}for(u=1,c=new Array(l-1);u<l;u++)c[u-1]=arguments[u];f.fn.apply(f.context,c)}else{var h,_=f.length;for(u=0;u<_;u++)switch(f[u].once&&this.removeListener(t,f[u].fn,void 0,!0),l){case 1:f[u].fn.call(f[u].context);break;case 2:f[u].fn.call(f[u].context,e);break;case 3:f[u].fn.call(f[u].context,e,r);break;case 4:f[u].fn.call(f[u].context,e,r,a);break;default:if(!c)for(h=1,c=new Array(l-1);h<l;h++)c[h-1]=arguments[h];f[u].fn.apply(f[u].context,c)}}return!0},i.prototype.on=function(t,e,r){var i=new a(e,r||this),o=n?n+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):(this._events[o]=i,this._eventsCount++),this},i.prototype.once=function(t,e,r){var i=new a(e,r||this,!0),o=n?n+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):(this._events[o]=i,this._eventsCount++),this},i.prototype.removeListener=function(t,e,a,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return 0==--this._eventsCount?this._events=new r:delete this._events[o],this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||a&&s.context!==a||(0==--this._eventsCount?this._events=new r:delete this._events[o]);else{for(var c=0,u=[],f=s.length;c<f;c++)(s[c].fn!==e||i&&!s[c].once||a&&s[c].context!==a)&&u.push(s[c]);u.length?this._events[o]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new r:delete this._events[o]}return this},i.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new r:delete this._events[e])):(this._events=new r,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.prefixed=n,i.EventEmitter=i,t.exports=i}));function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=function(){},l={data:"state-data",cdata:"state-cdata",tagBegin:"state-tag-begin",tagName:"state-tag-name",tagEnd:"state-tag-end",attributeNameStart:"state-attribute-name-start",attributeName:"state-attribute-name",attributeNameEnd:"state-attribute-name-end",attributeValueBegin:"state-attribute-value-begin",attributeValue:"state-attribute-value"},h={lt:"action-lt",gt:"action-gt",space:"action-space",equal:"action-equal",quote:"action-quote",slash:"action-slash",char:"action-char",error:"action-error"},_={text:"text",openTag:"open-tag",closeTag:"close-tag",attributeName:"attribute-name",attributeValue:"attribute-value"},p={" ":h.space,"\t":h.space,"\n":h.space,"\r":h.space,"<":h.lt,">":h.gt,'"':h.quote,"'":h.quote,"=":h.equal,"/":h.slash},d=function(t){return p[t]||h.char},A={State:l,Action:h,Type:_,create:function(t){var e,n,r,a,i,o,s,p,A,m;t=Object.assign({debug:!1},t);var v=new c,g=l.data,b="",y="",R="",E="",B="",w="",N=function(e,n){if("?"!==y[0]&&"!"!==y[0]){var r={type:e,value:n};t.debug&&console.log("emit:",r),v.emit("data",r)}};v.stateMachine=(u(m={},l.data,(u(e={},h.lt,(function(){b.trim()&&N(_.text,b),y="",B=!1,g=l.tagBegin})),u(e,h.char,(function(t){b+=t})),e)),u(m,l.cdata,u({},h.char,(function(t){"]]>"===(b+=t).substr(-3)&&(N(_.text,b.slice(0,-3)),b="",g=l.data)}))),u(m,l.tagBegin,(u(n={},h.space,f),u(n,h.char,(function(t){y=t,g=l.tagName})),u(n,h.slash,(function(){y="",B=!0})),n)),u(m,l.tagName,(u(r={},h.space,(function(){B?g=l.tagEnd:(g=l.attributeNameStart,N(_.openTag,y))})),u(r,h.gt,(function(){N(B?_.closeTag:_.openTag,y),b="",g=l.data})),u(r,h.slash,(function(){g=l.tagEnd,N(_.openTag,y)})),u(r,h.char,(function(t){"![CDATA["===(y+=t)&&(g=l.cdata,b="",y="")})),r)),u(m,l.tagEnd,(u(a={},h.gt,(function(){N(_.closeTag,y),b="",g=l.data})),u(a,h.char,f),a)),u(m,l.attributeNameStart,(u(i={},h.char,(function(t){R=t,g=l.attributeName})),u(i,h.gt,(function(){b="",g=l.data})),u(i,h.space,f),u(i,h.slash,(function(){B=!0,g=l.tagEnd})),i)),u(m,l.attributeName,(u(o={},h.space,(function(){g=l.attributeNameEnd})),u(o,h.equal,(function(){N(_.attributeName,R),g=l.attributeValueBegin})),u(o,h.gt,(function(){E="",N(_.attributeName,R),N(_.attributeValue,E),b="",g=l.data})),u(o,h.slash,(function(){B=!0,E="",N(_.attributeName,R),N(_.attributeValue,E),g=l.tagEnd})),u(o,h.char,(function(t){R+=t})),o)),u(m,l.attributeNameEnd,(u(s={},h.space,f),u(s,h.equal,(function(){N(_.attributeName,R),g=l.attributeValueBegin})),u(s,h.gt,(function(){E="",N(_.attributeName,R),N(_.attributeValue,E),b="",g=l.data})),u(s,h.char,(function(t){E="",N(_.attributeName,R),N(_.attributeValue,E),R=t,g=l.attributeName})),s)),u(m,l.attributeValueBegin,(u(p={},h.space,f),u(p,h.quote,(function(t){w=t,E="",g=l.attributeValue})),u(p,h.gt,(function(){E="",N(_.attributeValue,E),b="",g=l.data})),u(p,h.char,(function(t){w="",E=t,g=l.attributeValue})),p)),u(m,l.attributeValue,(u(A={},h.space,(function(t){w?E+=t:(N(_.attributeValue,E),g=l.attributeNameStart)})),u(A,h.quote,(function(t){w===t?(N(_.attributeValue,E),g=l.attributeNameStart):E+=t})),u(A,h.gt,(function(t){w?E+=t:(N(_.attributeValue,E),b="",g=l.data)})),u(A,h.slash,(function(t){w?E+=t:(N(_.attributeValue,E),B=!0,g=l.tagEnd)})),u(A,h.char,(function(t){E+=t})),A)),m);var I=function(e){t.debug&&console.log(g,e);var n=v.stateMachine[g];(n[d(e)]||n[h.error]||n[h.char])(e)};return v.write=function(t){for(var e=t.length,n=0;n<e;n++)I(t[n])},v}},m=A.Type,v={element:"element",text:"text"},g=function(t){return Object.assign({name:"",type:v.element,value:"",parent:null,attributes:{},children:[]},t)},b=function(t){t=Object.assign({stream:!1,parentNodes:!0,doneEvent:"done",tagPrefix:"tag:",emitTopLevelOnly:!1,debug:!1},t);var e=void 0,n=void 0,r=void 0,a=void 0,i=new c,o=function(o){switch(o.type){case m.openTag:if(null===r)(r=n).name=o.value;else{var s=g({name:o.value,parent:r});r.children.push(s),r=s}break;case m.closeTag:var c=r.parent;if(t.parentNodes||(r.parent=null),r.name!==o.value)break;t.stream&&c===n&&(n.children=[],r.parent=null),t.emitTopLevelOnly&&c!==n||(i.emit(t.tagPrefix+r.name,r),i.emit("tag",r.name,r)),r===n&&(e.removeAllListeners("data"),i.emit(t.doneEvent,r),n=null),r=c;break;case m.text:r&&r.children.push(g({type:v.text,value:o.value,parent:t.parentNodes?r:null}));break;case m.attributeName:a=o.value,r.attributes[a]="";break;case m.attributeValue:r.attributes[a]=o.value}};return i.reset=function(){(e=A.create({debug:t.debug})).on("data",o),n=g(),r=null,a="",i.parse=e.write},i.reset(),i},y=function(t,e){e=Object.assign({},e,{stream:!1,tagPrefix:":"});var n=b(e),r=void 0;return n.on("done",(function(t){r=t})),n.parse(t),r},R=function(t){var e=y("<root>".concat(t,"</root>"),{parentNodes:!1});if(e.children&&e.children.length>0&&e.children.every((function(t){return"svg"===t.name})))return 1===e.children.length?e.children[0]:e.children;throw Error("nothing to parse")},E=function(t){return s(t,(function(t){return w(t)?t:B(t)}))},B=function(t){return t.replace(/[-|:]([a-z])/gi,(function(t,e){return e.toUpperCase()}))},w=function(t){return/^(data|aria)(-\w+)/.test(t)},N=function(t){if(t){var e=String(t);return/[&<>]/.test(e)?"<![CDATA[".concat(e.replace(/]]>/,"]]]]><![CDATA[>"),"]]>"):e}return""},I=function(t){return String(t).replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},C=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transformNode,r=void 0===n?function(t){return t}:n,a=e.camelcase,i=void 0!==a&&a,o=function(t){var e;return e=r(t),i&&(e=E(e)),e};return o(R(t))};function Z(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Promise((function(t,n){try{t(C.apply(void 0,e))}catch(t){n(t)}}))}var S=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transformAttr,a=void 0===r?function(t,e,n){return"".concat(t,'="').concat(n(e),'"')}:r,i=n.transformNode,o=void 0===i?function(t){return t}:i,s=n.selfClose,c=void 0===s||s;if(Array.isArray(e))return e.map((function(e){return t(e,{transformAttr:a,selfClose:c,transformNode:o})})).join("");var u=o(e);if("text"===u.type)return N(u.value);var f="";for(var l in u.attributes){var h=a(l,u.attributes[l],I,u.name);f+=h?" ".concat(h):""}return u.children&&u.children.length>0||!c?"<".concat(u.name).concat(f,">").concat(t(u.children,{transformAttr:a,transformNode:o,selfClose:c}),"</").concat(u.name,">"):"<".concat(u.name).concat(f,"/>")};return Object.assign({},{parse:Z,parseSync:C,stringify:S})}()}}]);
//# sourceMappingURL=55938.b7abdd0a5b.js.map